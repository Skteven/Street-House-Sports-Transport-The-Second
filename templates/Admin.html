{% extends 'base.html' %}
{% block body %}
<div id="Extended_Header">
  <h1>Admin Page</h1>
  <p><a href="/Home">Home</a> / Admin</p>
</div>

<h1>Account Administration</h1>
<p>Monitor and/or delete accounts</p>

<table class="admin-table">
  <th>
    <tr>
      <th>Email</th>
      <th>First Name</th>
      <th>Surname</th>
      <th>Phone Number</th>
      <th>Username</th>
      <th>Role</th>
      <th>Password</th>
      <th>Action</th>
    </tr>
  </th>
  <td>
    {% for u in users %}
    <tr>
      <td>{{ u.Email }}</td>
      <td>{{ u.FName }}</td>
      <td>{{ u.SName }}</td>
      <td>{{ u.PNumber }}</td>
      <td>{{ u.Username }}</td>
      <td>{{ u.Role }}</td>
      <td>{{ u.Password }}</td>
      <td>
        <form method="POST" action="{{ url_for('delete_user') }}" onsubmit="return confirm('Are you sure you want to delete this user?');">
          <input type="hidden" name="username" value="{{ u.Username }}">
          <button type="submit" style="background: none; border: none; cursor: pointer;">🗑️</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </td>
</table>



{% endblock %}

